"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[557],{1557:(e,t,r)=>{r.r(t),r.d(t,{ExportProgramModal:()=>c});var a=r(5155),s=r(2115),l=r(1788),n=r(4416),o=r(4357),d=r(2056);function c(e){let{isOpen:t,onClose:r,userData:c,showToast:i}=e,x=(0,s.useRef)(null),g=(0,s.useRef)(null),[u,y]=(0,s.useState)("idle");(0,s.useEffect)(()=>{let e=e=>{"Escape"===e.key&&r()},a=e=>{x.current&&!x.current.contains(e.target)&&r()};return t&&(document.body.style.overflow="hidden",document.addEventListener("keydown",e),document.addEventListener("mousedown",a)),()=>{document.body.style.overflow="",document.removeEventListener("keydown",e),document.removeEventListener("mousedown",a)}},[t,r]);let h=JSON.stringify(c,null,2);return t?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{ref:x,className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-lg w-full mx-4 max-h-[90vh] flex flex-col",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center space-x-2 space-x-reverse",children:[(0,a.jsx)(l.A,{className:"h-5 w-5 text-gray-700 dark:text-gray-300"})," ",(0,a.jsx)("span",{children:"دانلود برنامه"})]}),(0,a.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,a.jsx)(n.A,{className:"h-5 w-5"})})]}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4 text-right",children:"این کد JSON حاوی تمام برنامه‌های تمرینی ذخیره شده شماست."}),(0,a.jsxs)("div",{className:"mb-4 relative flex-grow overflow-y-auto rounded-lg bg-gray-100 dark:bg-gray-700 p-4",children:[(0,a.jsx)("textarea",{ref:g,readOnly:!0,value:h,rows:10,className:"w-full h-full bg-transparent text-gray-900 dark:text-white text-sm leading-relaxed resize-none outline-none border-none overflow-auto pr-10",dir:"ltr"}),(0,a.jsx)("button",{onClick:()=>{g.current&&(g.current.select(),document.execCommand("copy"),y("copied"),setTimeout(()=>y("idle"),2e3))},className:"absolute top-2 right-2 p-1 rounded-lg bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors","aria-label":"copied"===u?"کپی شد!":"کپی به کلیپ بورد",children:"copied"===u?(0,a.jsx)("span",{className:"text-xs",children:"کپی شد!"}):(0,a.jsx)(o.A,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"flex space-x-3 space-x-reverse flex-shrink-0 mt-auto",children:[(0,a.jsx)("button",{onClick:()=>{(0,d.i4)(),i("برنامه با موفقیت دانلود شد","success"),r()},className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"دانلود"}),(0,a.jsx)("button",{onClick:r,className:"flex-1 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors",children:"لغو"})]})]})}):null}},4357:(e,t,r)=>{r.d(t,{A:()=>a});let a=(0,r(2895).A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])}}]);